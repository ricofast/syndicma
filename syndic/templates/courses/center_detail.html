{% extends "base.html" %}
{% load i18n %}
{% load static %}
{% load crispy_forms_tags %}
{% load auth_extras %}
{% block css %}
    {{ block.super }}
    <style>
      body.modal-open #wrap{
    -webkit-filter: blur(7px);
    -moz-filter: blur(15px);
    -o-filter: blur(15px);
    -ms-filter: blur(15px);
    filter: blur(15px);
}

.modal-backdrop {background: #f7f7f7;}
    </style>
{% endblock css %}
{% block main %}

  <section class="ftco-section ftco-candidates ftco-candidates-2 bg-light pt-5">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 pr-lg-4">
          <div class="row">
            <div class="col-md-12">
              <div class="team d-md-fle p-4 bg-white">
                <div class="px-md-4">
                  <div class="d-md-flex">


                        {% if center.picture %}
                          <div class="div-img undef" style="width:200px;height:200px;
                  background-image:url({{ center.picture.url }});background-size:200px 200px;background-position:center center;
                  display:inline-block" alt=""><meta itemprop="image" content="{{ center.picture.url }}"></div>
                        {% else %}
                          <div class="div-img undefined" style="width:200px;height:200px;
                  background-image:url({% static "images/no-avatar.png" %});background-size:200px 200px;background-position:center center;
                  display:inline-block" alt=""><meta itemprop="image" content="{% static "images/no-avatar.png" %}"></div>
                        {% endif %}
                    <br>
                    <div class="text px-md-4">
                      <div class="text-left">
                        <h3>{% trans "Training Center:" %} {{ center }}</h3>
                        <p>{% trans "Creation date" %}:<span
                            class="font-weight-bold"> {{ center.created|date:"D d M Y" }}</span></p>
                        <p>{% trans "Created by" %}:
                          <span class="font-weight-bold">{{ center.admin }}</span></p>
                      </div>
                      <p class="mb-2">{{ center.description }}</p>
                      {% if user.professor %}
                        {% if user.professor != center.admin %}
                          <form action="{% url 'courses:join_requests:create' %}" method="post" class="d-none"
                                id="join-request-form">
                            {% csrf_token %}
                            {{ join_request_form }}
                          </form>
                          {% if join_request_accepted is None %}
                            <div class="alert alert-primary" role="alert">
                              Your join request is under review.
                            </div>
                          {% elif join_request_accepted is True %}
                            {% comment %}<div class="alert alert-success" role="alert">
                              Your join request was accepted.
                            </div>{% endcomment %}
                          {% elif join_request_accepted is False %}
                            <div class="alert alert-warning" role="alert">
                              Your join request was rejected.
                            </div>
                          {% elif join_request_accepted == "not_existing" %}
                            <button id="join" type="button" class="btn btn-primary">{% trans "Join" %}</button>
                            <div id="join-request-sent-alert" class="alert alert-primary d-none" role="alert">
                              Your join request was sent.
                            </div>
                          {% endif %}
                        {% endif %}
                      {% endif %}
                    </div>
                  </div>
                </div>
              </div>
            <div class="container">
                {% if center.picture %}
                    <a href="#" data-toggle="modal" data-target="#myModal0"> <div class="div-img undef" style="width:80px;height:80px;background-image:url({{ center.picture.url }});background-size:80px 80px;background-position:center center;display:inline-block" alt=""></div></a>

                {% endif %}
            {% if center.picture1 %}
                <a href="#" data-toggle="modal" data-target="#myModal1"><div class="div-img undef" style="width:80px;height:80px;background-image:url({{ center.picture1.url }});background-size:80px 80px;background-position:center center;display:inline-block" alt=""></div>
                </a>
                {% endif %}
            {% if center.picture2 %}
                <a href="#" data-toggle="modal" data-target="#myModal2"><div class="div-img undef" style="width:80px;height:80px;background-image:url({{ center.picture2.url }});background-size:80px 80px;background-position:center center;display:inline-block" alt=""></div>
                </a>
                {% endif %}
            {% if center.picture3 %}
                <a href="#" data-toggle="modal" data-target="#myModal3"><div class="div-img undef" style="width:80px;height:80px;background-image:url({{ center.picture3.url }});background-size:80px 80px;background-position:center center;display:inline-block" alt=""></div>
                </a>
                {% endif %}
            </div>
            <!-- Modal -->
            <div id="myModal0" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content bg-transparent border-0">

            <div class="modal-body">
                {% if center.picture %}
                <div class="div-img undef" style="width:500px;height:500px;background-image:url({{ center.picture.url }});background-size:500px 500px;background-position:center center;display:inline-block" alt=""></div>
                {% endif %}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">X</button>
            </div>
                </div>

            </div>
            </div>
            <!-- Modal -->
            <div id="myModal1" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content bg-transparent border-0">

            <div class="modal-body">
                {% if center.picture1 %}
                <div class="div-img undef" style="width:500px;height:500px;background-image:url({{ center.picture1.url }});background-size:500px 500px;background-position:center center;display:inline-block" alt=""></div>
                {% endif %}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">X</button>
            </div>
                </div>

            </div>
            </div>
            <!-- Modal -->
            <div id="myModal2" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content bg-transparent border-0">

            <div class="modal-body">
                {% if center.picture2 %}
                <div class="div-img undef" style="width:500px;height:500px;background-image:url({{ center.picture2.url }});background-size:500px 500px;background-position:center center;display:inline-block" alt=""></div>
                {% endif %}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">X</button>
            </div>
                </div>

            </div>
            </div>
            <!-- Modal -->
            <div id="myModal3" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content bg-transparent border-0">

            <div class="modal-body">
                {% if center.picture3 %}
                <div class="div-img undef" style="width:500px;height:500px;background-image:url({{ center.picture3.url }});background-size:500px 500px;background-position:center center;display:inline-block" alt=""></div>
                {% endif %}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">X</button>
            </div>
                </div>

            </div>
            </div>
            <hr>
              {% if object_list %}



                  <div class="row">
                      <div class="col-md-6 float-left">
                  <p class="card-text">
                      <h5>{% trans "List of Courses" %}</h5>
                        <ul class="list-group">
                            {% for course in object_list %}
                                <li class="list-group-item">
                                    <div class="row">
                                        <div class="col-sm-12 float-left">
                                            <a class="float-left" href="{% url 'courses:detail' course.pk %}">{{ course }}</a></div>

                                    </div>
                                </li>
                            {% empty %}
                                <li class="list-group-item">{% trans "No courses yet." %}</li>
                            {% endfor %}
                        </ul>

                        </p>

                {% comment %}{% for course in object_list %}
                  {% include "components/course_body.html" %}
                {% endfor %}{% endcomment %}

                {% if is_paginated and user.is_authenticated %}
                  <div class="row mt-5">
                    <div class="col text-center">
                      <div class="block-27">
                        {% include "components/pagination.html" %}
                      </div>
                    </div>
                  </div>
                {% endif %}
              {% endif %}
            </div>
                  <div class="col-md-6 float-left">

                  </div>
                  </div>
            </div>
          </div>
        </div>
      <div class="col-lg-4 pr-lg-4">
          <h5>{% trans "List of Professors" %}</h5>
                        <ul class="list-group">
                        <li class="list-group-item">
                                    <div class="row">
                                        <div class="col-sm-12 float-left">
                                            {{ center.admin }} - {% trans "(Center Admin)" %}
                                        </div>
                                    </div>
                        </li>
                            {% for prof in object_list1 %}
                                <li class="list-group-item">
                                    <div class="row">
                                        <div class="col-sm-12 float-left">
                                            <a class="float-left" href="{% url 'courses:profdetail' prof.professor_id %}">{{ prof.professor }}</a>
                                        </div>

                                    </div>
                                </li>

                            {% endfor %}
                        </ul>
      </div>
      </div>
    </div>
  </section>
{% endblock main %}

{% block project_js %}
  {{ block.super }}
  <script src={% static "jss/center_detail.jss" %}></script>
{% endblock project_js %}